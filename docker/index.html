<h1>
  This is Flems in Flems
</h1>
<div id="flems">
</div>
<p>
  Flems is easily embedded in documentation etc...
</p>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
<script src="https://flems.io/flems.html" type="text/javascript" charset="utf-8"></script>
<script> 
    let state = {
        toolbar         : true,
        files: [{
            name: 'app.js',
            content: 'm.render(\n\tdocument.body,\n\tm("h1", "Hello world")\n)'
        }],
        links: [{
            name: 'mithril',
            type: 'js',
            url: 'https://unpkg.com/mithril'
        }]
    };
    window.Flems(flems, state)
    
    window.onkeydown = (e) => {
      if (e.altKey) {
        if (e.key == "x") {
          const x = state
          const updated = { ...state, files: _.map(state.files, file => _.omit(file, 'doc')) };
          const jsonEnc = btoa(JSON.stringify(updated))
          window.location.hash = jsonEnc;
        }
      }
    }
</script>
